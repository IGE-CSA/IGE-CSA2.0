---
layout: default
title: Fibonacci
---

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fibonacci Sequence Calculator</title>
</head>
<body>

    <h1>Fibonacci Sequence Calculator</h1>

    <label for="nthNumber">Type the nth number in the Fibonacci sequence:</label>
    <input type="number" id="nthNumber" placeholder="Enter a number">

    <table border="1">
        <tr>
            <th>Method</th>
            <th>Time (nano)</th>
            <th>Fibonacci Number</th>
            <th>List</th>
        </tr>
        <tr>
            <td>Binet</td>
            <td id="binetTime"></td>
            <td id="binetNumber"></td>
            <td id="binetList"></td>
        </tr>
        <tr>
            <td>Matrix</td>
            <td id="matrixTime"></td>
            <td id="matrixNumber"></td>
            <td id="matrixList"></td>
        </tr>
    </table>

    <script>
        async function calculateFibonacci() {
            const nthNumber = document.getElementById('nthNumber').value;

            // Calculate using Binet's formula
            await calculateAndDisplayBinetResult(nthNumber);

            // Calculate using Matrix exponentiation
            await calculateAndDisplayMatrixResult(nthNumber);
        }

        function generateFibonacciList(fibNum) {
            const fibList = [0, 1];
            for (let i = 2; i <= fibNum; i++) {
                fibList.push(fibList[i - 1] + fibList[i - 2]);
            }
            return fibList;
        }

        async function calculateAndDisplayBinetResult(n) {
            const startTime = performance.now();

            // Make AJAX request to the Binet endpoint
            const response = await fetch(`http://localhost:8085/api/fibonacci/binet/${n}`);
            const result = await response.json();

            const endTime = performance.now();
            const timeElapsed = endTime - startTime;

            // Display results in the table
            document.getElementById('binetTime').textContent = `${timeElapsed.toFixed(4)} ms`;
            document.getElementById('binetNumber').textContent = result.fibNum;
            
            // Generate Fibonacci list and display
            const binetList = generateFibonacciList(result.fibNum);
            document.getElementById('binetList').textContent = binetList.join(', ');
        }

        async function calculateAndDisplayMatrixResult(n) {
            const startTime = performance.now();

            // Make AJAX request to the Matrix endpoint
            const response = await fetch(`http://localhost:8085/api/fibonacci/matrix/${n}`);
            const result = await response.json();

            const endTime = performance.now();
            const timeElapsed = endTime - startTime;

            // Display results in the table
            document.getElementById('matrixTime').textContent = `${timeElapsed.toFixed(4)} ms`;
            document.getElementById('matrixNumber').textContent = result.fibNum;

            // Generate Fibonacci list and display
            const matrixList = generateFibonacciList(result.fibNum);
            document.getElementById('matrixList').textContent = matrixList.join(', ');
        }
    </script>

    <button onclick="calculateFibonacci()">Calculate</button>

</body>
</html>
